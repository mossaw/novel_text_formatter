# novel_text_formatter
小説用テキスト加工ツール

※ChatGPTに作らせました

## 概要
このツールは、縦書き小説向け原稿の体裁を自動整形するための **簡易GUIアプリケーション**です。  
ボタン操作でテキストファイルの加工を行い、仕上がりを確認しながら整形できます。

---

## 構成ファイルとモジュール概要

### `novel_text_formatter.py`
GUIアプリのメインスクリプトです。ボタンUIを提供し、下記モジュールを組み合わせて処理します。

---

### `preprocess_cleaner.py`（前処理：改行・スペース全削除）
#### 🔧 処理内容
- テキスト全体からすべての改行（\n）を削除
- 全角・半角スペース（` ` / `　`）をすべて削除
#### 📌 使用タイミング
- 元テキストが整形済みで改行位置がバラバラな場合
- 小説変換前のクリーンな整形用ベースを作るとき

---

### `text_format_linebreak.py`（改行処理）
#### 🔧 処理内容
- 「」や（）の**前後に通常の改行**を自動挿入
- 会話文（「〜」や（〜で始まる文））の**前後に空行を1行追加**
- 会話が連続する場合は空行を挿入しない（自然な会話文の流れを維持）
- 地の文との切り替え時には空行を追加
#### 📌 使用タイミング
- 改行ルールが統一されていない小説原稿を整えるとき
- 会話と地の文を視認しやすく整形したいとき

---

### `text_format_spacing.py`（スペース処理）
#### 🔧 処理内容
- 地の文（会話文以外）の**行頭に全角スペース（1字下げ）**を追加  
  ※ ただし「―」で始まる行は除外
- 会話文内の記号（「！」「？」「♡」）の**連続の最後の記号のあとに全角スペース**を1つ追加  
  （例：`！？♡` → `！？♡　`）
- 「」や（）の**終了記号（」や））の直前のスペースを削除**
#### 📌 使用タイミング
- 地の文を一字下げしたいとき
- 台詞のリズムや読みやすさを整えたいとき

---

## 使い方

### 🔧 起動方法
1. 上記4つの `.py` ファイルをすべて同じディレクトリに配置
2. 以下のコマンドでGUIを起動：

```bash
python novel_text_formatter.py
```
- 多分Pythonインストールしてれば普通にファイルダブルクリックでいけると思う
---

### 🖱 GUI操作手順

1. **「ファイルを選択」** ボタンから `.txt` ファイルを読み込む
2. 以下の加工ボタンを任意に押す：

| ボタン名 | 処理内容 |
|----------|----------|
| ① 改行・スペース全削除 | 文章を完全にクリーンアップ。すべての改行とスペースを削除 |
| ② 改行処理 | 会話文と地の文の間に適切な改行・空行を挿入 |
| ③ スペース処理 | 地の文の一字下げ・台詞中の記号後スペース・余分なスペース削除 |
| ④ 元ファイルに戻す | 最初に読み込んだ内容に戻す（やり直し） |

3. **「完了して出力」** ボタンで、`元ファイル名_タイムスタンプ.txt` が生成されます。

---

### 💡 特徴
- 加工後の状態は `temp.txt` として自動保存され、外部エディタで確認可能
- 処理を組み合わせて順序調整できる
- 加工内容は都度 `temp.txt` に反映されるため、リアルタイム確認が可能

---

## 推奨環境
- Python 3.8+
- Windows / macOS（Tkinter動作確認済）

---

## ライセンス
MITライセンス（個人・同人利用OK）  
商用利用・改変配布時は作者までご相談ください。
